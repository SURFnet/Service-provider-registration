window.ParsleyExtend=window.ParsleyExtend||{};window.ParsleyExtend=$.extend(window.ParsleyExtend,{asyncSupport:true,asyncValidators:$.extend({"default":{fn:function(xhr){return"resolved"===xhr.state()},url:false},reverse:{fn:function(xhr){return"rejected"===xhr.state()},url:false}},window.ParsleyExtend.asyncValidators),addAsyncValidator:function(name,fn,url,options){this.asyncValidators[name.toLowerCase()]={fn:fn,url:url||false,options:options||{}};return this},asyncValidate:function(){if("ParsleyForm"===this.__class__)return this._asyncValidateForm.apply(this,arguments);return this._asyncValidateField.apply(this,arguments)},asyncIsValid:function(){if("ParsleyField"===this.__class__)return this._asyncIsValidField.apply(this,arguments);return this._asyncIsValidForm.apply(this,arguments)},onSubmitValidate:function(event){var that=this;if(true===event.parsley)return;this.submitEvent=$.extend(true,{},event);if(event instanceof $.Event){event.stopImmediatePropagation();event.preventDefault()}return this._asyncValidateForm(undefined,event).done(function(){if(!that.submitEvent.isDefaultPrevented())that.$element.trigger($.extend($.Event("submit"),{parsley:true}))})},eventValidate:function(event){if(new RegExp("key").test(event.type))if(!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold)return;this._ui.validatedOnce=true;this.asyncValidate()},_asyncValidateForm:function(group,event){var that=this,promises=[];this._refreshFields();$.emit("parsley:form:validate",this);for(var i=0;i<this.fields.length;i++){if(group&&group!==this.fields[i].options.group)continue;promises.push(this.fields[i]._asyncValidateField())}return $.when.apply($,promises).always(function(){$.emit("parsley:form:validated",that)})},_asyncIsValidForm:function(group,force){var promises=[];this._refreshFields();for(var i=0;i<this.fields.length;i++){if(group&&group!==this.fields[i].options.group)continue;promises.push(this.fields[i]._asyncIsValidField(force))}return $.when.apply($,promises)},_asyncValidateField:function(force){var that=this;$.emit("parsley:field:validate",this);return this._asyncIsValidField(force).done(function(){$.emit("parsley:field:success",that)}).fail(function(){$.emit("parsley:field:error",that)}).always(function(){$.emit("parsley:field:validated",that)})},_asyncIsValidField:function(force,value){var deferred=$.Deferred(),remoteConstraintIndex;if(false===this.isValid(force,value))deferred.rejectWith(this);else if("undefined"!==typeof this.constraintsByName.remote)this._remote(deferred);else deferred.resolveWith(this);return deferred.promise()},_remote:function(deferred){var that=this,data={},ajaxOptions,csr,validator=this.options.remoteValidator||(true===this.options.remoteReverse?"reverse":"default");validator=validator.toLowerCase();if("undefined"===typeof this.asyncValidators[validator])throw new Error("Calling an undefined async validator: `"+validator+"`");data[this.$element.attr("name")||this.$element.attr("id")]=this.getValue();this.options.remoteOptions=$.extend(true,this.options.remoteOptions||{},this.asyncValidators[validator].options);ajaxOptions=$.extend(true,{},{url:this.asyncValidators[validator].url||this.options.remote,data:data,type:"GET"},this.options.remoteOptions||{});csr=$.param(ajaxOptions);if("undefined"===typeof this._remoteCache)this._remoteCache={};if(!this._remoteCache[csr]){if(this._xhr&&"pending"===this._xhr.state())this._xhr.abort();this._xhr=$.ajax(ajaxOptions);this._remoteCache[csr]=this._xhr}this._remoteCache[csr].done(function(data,textStatus,xhr){that._handleRemoteResult(validator,xhr,deferred)}).fail(function(xhr,status,message){if("abort"===status)return;that._handleRemoteResult(validator,xhr,deferred)})},_handleRemoteResult:function(validator,xhr,deferred){if("function"===typeof this.asyncValidators[validator].fn&&this.asyncValidators[validator].fn.call(this,xhr)){deferred.resolveWith(this);return}this.validationResult=[new window.ParsleyValidator.Validator.Violation(this.constraintsByName.remote,this.getValue(),null)];deferred.rejectWith(this)}});window.ParsleyConfig=window.ParsleyConfig||{};window.ParsleyConfig.validators=window.ParsleyConfig.validators||{};window.ParsleyConfig.validators.remote={fn:function(){return true},priority:-1};!function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{factory(jQuery)}}(function($){if("undefined"===typeof $&&"undefined"!==typeof window.jQuery)$=window.jQuery;var ParsleyUtils={attr:function($element,namespace,checkAttr){var attribute,obj={},msie=this.msieversion(),regex=new RegExp("^"+namespace,"i");if("undefined"===typeof $element||"undefined"===typeof $element[0])return{};for(var i in $element[0].attributes){attribute=$element[0].attributes[i];if("undefined"!==typeof attribute&&null!==attribute&&(!msie||msie>=8||attribute.specified)&&regex.test(attribute.name)){if("undefined"!==typeof checkAttr&&new RegExp(checkAttr+"$","i").test(attribute.name))return true;obj[this.camelize(attribute.name.replace(namespace,""))]=this.deserializeValue(attribute.value)}}return"undefined"===typeof checkAttr?obj:false},setAttr:function($element,namespace,attr,value){$element[0].setAttribute(this.dasherize(namespace+attr),String(value))},get:function(obj,path){var i=0,paths=(path||"").split(".");while(this.isObject(obj)||this.isArray(obj)){obj=obj[paths[i++]];if(i===paths.length)return obj}return undefined},hash:function(length){return String(Math.random()).substring(2,length?length+2:9)},isArray:function(mixed){return Object.prototype.toString.call(mixed)==="[object Array]"},isObject:function(mixed){return mixed===Object(mixed)},deserializeValue:function(value){var num;try{return value?value=="true"||(value=="false"?false:value=="null"?null:!isNaN(num=Number(value))?num:/^[\[\{]/.test(value)?$.parseJSON(value):value):value}catch(e){return value}},camelize:function(str){return str.replace(/-+(.)?/g,function(match,chr){return chr?chr.toUpperCase():""})},dasherize:function(str){return str.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},msieversion:function(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");if(msie>0||!!navigator.userAgent.match(/Trident.*rv\:11\./))return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);return 0}};var ParsleyDefaults={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:true,uiEnabled:true,validationThreshold:3,focus:"first",trigger:false,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(ParsleyField){},errorsContainer:function(ParsleyField){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"};var ParsleyAbstract=function(){};ParsleyAbstract.prototype={asyncSupport:false,actualizeOptions:function(){this.options=this.OptionsFactory.get(this);return this},validateThroughValidator:function(value,constraints,priority){return window.ParsleyValidator.validate.apply(window.ParsleyValidator,[value,constraints,priority])},subscribe:function(name,fn){$.listenTo(this,name.toLowerCase(),fn);return this},unsubscribe:function(name){$.unsubscribeTo(this,name.toLowerCase());return this},reset:function(){if("ParsleyForm"!==this.__class__)return $.emit("parsley:field:reset",this);for(var i=0;i<this.fields.length;i++)$.emit("parsley:field:reset",this.fields[i]);$.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__){this.$element.removeData("Parsley");this.$element.removeData("ParsleyFieldMultiple");$.emit("parsley:field:destroy",this);return}for(var i=0;i<this.fields.length;i++)this.fields[i].destroy();this.$element.removeData("Parsley");$.emit("parsley:form:destroy",this)}};var Validator=function(){var exports={};var Validator=function(options){this.__class__="Validator";this.__version__="1.0.0";this.options=options||{};this.bindingKey=this.options.bindingKey||"_validatorjsConstraint"};Validator.prototype={constructor:Validator,validate:function(objectOrString,AssertsOrConstraintOrGroup,group){if("string"!==typeof objectOrString&&"object"!==typeof objectOrString)throw new Error("You must validate an object or a string");if("string"===typeof objectOrString||_isArray(objectOrString))return this._validateString(objectOrString,AssertsOrConstraintOrGroup,group);if(this.isBinded(objectOrString))return this._validateBindedObject(objectOrString,AssertsOrConstraintOrGroup);return this._validateObject(objectOrString,AssertsOrConstraintOrGroup,group)},bind:function(object,constraint){if("object"!==typeof object)throw new Error("Must bind a Constraint to an object");object[this.bindingKey]=new Constraint(constraint);return this},unbind:function(object){if("undefined"===typeof object._validatorjsConstraint)return this;delete object[this.bindingKey];return this},isBinded:function(object){return"undefined"!==typeof object[this.bindingKey]},getBinded:function(object){return this.isBinded(object)?object[this.bindingKey]:null},_validateString:function(string,assert,group){var result,failures=[];if(!_isArray(assert))assert=[assert];for(var i=0;i<assert.length;i++){if(!(assert[i]instanceof Assert))throw new Error("You must give an Assert or an Asserts array to validate a string");result=assert[i].check(string,group);if(result instanceof Violation)failures.push(result)}return failures.length?failures:true},_validateObject:function(object,constraint,group){if("object"!==typeof constraint)throw new Error("You must give a constraint to validate an object");if(constraint instanceof Constraint)return constraint.check(object,group);return new Constraint(constraint).check(object,group)},_validateBindedObject:function(object,group){return object[this.bindingKey].check(object,group)}};Validator.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var Constraint=function(data,options){this.__class__="Constraint";this.options=options||{};this.nodes={};if(data){try{this._bootstrap(data)}catch(err){throw new Error("Should give a valid mapping object to Constraint",err,data)}}};Constraint.prototype={constructor:Constraint,check:function(object,group){var result,failures={};for(var property in this.nodes){var isRequired=false;var constraint=this.get(property);var constraints=_isArray(constraint)?constraint:[constraint];for(var i=constraints.length-1;i>=0;i--){if("Required"===constraints[i].__class__){isRequired=constraints[i].requiresValidation(group);continue}}if(!this.has(property,object)&&!this.options.strict&&!isRequired){continue}try{if(!this.has(property,this.options.strict||isRequired?object:undefined)){(new Assert).HaveProperty(property).validate(object)}result=this._check(property,object[property],group);if(_isArray(result)&&result.length>0||!_isArray(result)&&!_isEmptyObject(result)){failures[property]=result}}catch(violation){failures[property]=violation}}return _isEmptyObject(failures)?true:failures},add:function(node,object){if(object instanceof Assert||_isArray(object)&&object[0]instanceof Assert){this.nodes[node]=object;return this}if("object"===typeof object&&!_isArray(object)){this.nodes[node]=object instanceof Constraint?object:new Constraint(object);return this}throw new Error("Should give an Assert, an Asserts array, a Constraint",object)},has:function(node,nodes){nodes="undefined"!==typeof nodes?nodes:this.nodes;return"undefined"!==typeof nodes[node]},get:function(node,placeholder){return this.has(node)?this.nodes[node]:placeholder||null},remove:function(node){var _nodes=[];for(var i in this.nodes)if(i!==node)_nodes[i]=this.nodes[i];this.nodes=_nodes;return this},_bootstrap:function(data){if(data instanceof Constraint)return this.nodes=data.nodes;for(var node in data)this.add(node,data[node])},_check:function(node,value,group){if(this.nodes[node]instanceof Assert)return this._checkAsserts(value,[this.nodes[node]],group);if(_isArray(this.nodes[node]))return this._checkAsserts(value,this.nodes[node],group);if(this.nodes[node]instanceof Constraint)return this.nodes[node].check(value,group);throw new Error("Invalid node",this.nodes[node])},_checkAsserts:function(value,asserts,group){var result,failures=[];for(var i=0;i<asserts.length;i++){result=asserts[i].check(value,group);if("undefined"!==typeof result&&true!==result)failures.push(result)}return failures}};var Violation=function(assert,value,violation){this.__class__="Violation";if(!(assert instanceof Assert))throw new Error("Should give an assertion implementing the Assert interface");this.assert=assert;this.value=value;if("undefined"!==typeof violation)this.violation=violation};Violation.prototype={show:function(){var show={assert:this.assert.__class__,value:this.value};if(this.violation)show.violation=this.violation;return show},__toString:function(){if("undefined"!==typeof this.violation)this.violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected;return this.assert.__class__+' assert failed for "'+this.value+this.violation||""},getViolation:function(){var constraint,expected;for(constraint in this.violation)expected=this.violation[constraint];return{constraint:constraint,expected:expected}}};var Assert=function(group){this.__class__="Assert";this.__parentClass__=this.__class__;this.groups=[];if("undefined"!==typeof group)this.addGroup(group)};Assert.prototype={construct:Assert,requiresValidation:function(group){if(group&&!this.hasGroup(group))return false;if(!group&&this.hasGroups())return false;return true},check:function(value,group){if(!this.requiresValidation(group))return;try{return this.validate(value,group)}catch(violation){return violation}},hasGroup:function(group){if(_isArray(group))return this.hasOneOf(group);if("Any"===group)return true;if(!this.hasGroups())return"Default"===group;return-1!==this.groups.indexOf(group)},hasOneOf:function(groups){for(var i=0;i<groups.length;i++)if(this.hasGroup(groups[i]))return true;return false},hasGroups:function(){return this.groups.length>0},addGroup:function(group){if(_isArray(group))return this.addGroups(group);if(!this.hasGroup(group))this.groups.push(group);return this},removeGroup:function(group){var _groups=[];for(var i=0;i<this.groups.length;i++)if(group!==this.groups[i])_groups.push(this.groups[i]);this.groups=_groups;return this},addGroups:function(groups){for(var i=0;i<groups.length;i++)this.addGroup(groups[i]);return this},HaveProperty:function(node){this.__class__="HaveProperty";this.node=node;this.validate=function(object){if("undefined"===typeof object[this.node])throw new Violation(this,object,{value:this.node});return true};return this},Blank:function(){this.__class__="Blank";this.validate=function(value){if("string"!==typeof value)throw new Violation(this,value,{value:Validator.errorCode.must_be_a_string});if(""!==value.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new Violation(this,value);return true};return this},Callback:function(fn){this.__class__="Callback";this.arguments=Array.prototype.slice.call(arguments);if(1===this.arguments.length)this.arguments=[];else this.arguments.splice(0,1);if("function"!==typeof fn)throw new Error("Callback must be instanciated with a function");this.fn=fn;this.validate=function(value){var result=this.fn.apply(this,[value].concat(this.arguments));if(true!==result)throw new Violation(this,value,{result:result});return true};return this},Choice:function(list){this.__class__="Choice";if(!_isArray(list)&&"function"!==typeof list)throw new Error("Choice must be instanciated with an array or a function");this.list=list;this.validate=function(value){var list="function"===typeof this.list?this.list():this.list;for(var i=0;i<list.length;i++)if(value===list[i])return true;throw new Violation(this,value,{choices:list})};return this},Collection:function(assertOrConstraint){this.__class__="Collection";this.constraint="undefined"!==typeof assertOrConstraint?assertOrConstraint instanceof Assert?assertOrConstraint:new Constraint(assertOrConstraint):false;this.validate=function(collection,group){var result,validator=new Validator,count=0,failures={},groups=this.groups.length?this.groups:group;if(!_isArray(collection))throw new Violation(this,array,{value:Validator.errorCode.must_be_an_array});for(var i=0;i<collection.length;i++){result=this.constraint?validator.validate(collection[i],this.constraint,groups):validator.validate(collection[i],groups);if(!_isEmptyObject(result))failures[count]=result;count++}return!_isEmptyObject(failures)?failures:true};return this},Count:function(count){this.__class__="Count";this.count=count;this.validate=function(array){if(!_isArray(array))throw new Violation(this,array,{value:Validator.errorCode.must_be_an_array});var count="function"===typeof this.count?this.count(array):this.count;if(isNaN(Number(count)))throw new Error("Count must be a valid interger",count);if(count!==array.length)throw new Violation(this,array,{count:count});return true};return this},Email:function(){this.__class__="Email";this.validate=function(value){var regExp=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if("string"!==typeof value)throw new Violation(this,value,{value:Validator.errorCode.must_be_a_string});if(!regExp.test(value))throw new Violation(this,value);return true};return this},EqualTo:function(reference){this.__class__="EqualTo";if("undefined"===typeof reference)throw new Error("EqualTo must be instanciated with a value or a function");this.reference=reference;this.validate=function(value){var reference="function"===typeof this.reference?this.reference(value):this.reference;if(reference!==value)throw new Violation(this,value,{value:reference});return true};return this},GreaterThan:function(threshold){this.__class__="GreaterThan";if("undefined"===typeof threshold)throw new Error("Should give a threshold value");this.threshold=threshold;this.validate=function(value){if(""===value||isNaN(Number(value)))throw new Violation(this,value,{value:Validator.errorCode.must_be_a_number});if(this.threshold>=value)throw new Violation(this,value,{threshold:this.threshold});return true};return this},GreaterThanOrEqual:function(threshold){this.__class__="GreaterThanOrEqual";if("undefined"===typeof threshold)throw new Error("Should give a threshold value");this.threshold=threshold;this.validate=function(value){if(""===value||isNaN(Number(value)))throw new Violation(this,value,{value:Validator.errorCode.must_be_a_number});if(this.threshold>value)throw new Violation(this,value,{threshold:this.threshold});return true};return this},InstanceOf:function(classRef){this.__class__="InstanceOf";if("undefined"===typeof classRef)throw new Error("InstanceOf must be instanciated with a value");this.classRef=classRef;this.validate=function(value){if(true!==value instanceof this.classRef)throw new Violation(this,value,{classRef:this.classRef});return true};return this},Length:function(boundaries){this.__class__="Length";if(!boundaries.min&&!boundaries.max)throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object");this.min=boundaries.min;this.max=boundaries.max;this.validate=function(value){if("string"!==typeof value&&!_isArray(value))throw new Violation(this,value,{value:Validator.errorCode.must_be_a_string_or_array});if("undefined"!==typeof this.min&&this.min===this.max&&value.length!==this.min)throw new Violation(this,value,{min:this.min,max:this.max});if("undefined"!==typeof this.max&&value.length>this.max)throw new Violation(this,value,{max:this.max});if("undefined"!==typeof this.min&&value.length<this.min)throw new Violation(this,value,{min:this.min});return true};return this},LessThan:function(threshold){this.__class__="LessThan";if("undefined"===typeof threshold)throw new Error("Should give a threshold value");this.threshold=threshold;this.validate=function(value){if(""===value||isNaN(Number(value)))throw new Violation(this,value,{value:Validator.errorCode.must_be_a_number});if(this.threshold<=value)throw new Violation(this,value,{threshold:this.threshold});return true};return this},LessThanOrEqual:function(threshold){this.__class__="LessThanOrEqual";if("undefined"===typeof threshold)throw new Error("Should give a threshold value");this.threshold=threshold;this.validate=function(value){if(""===value||isNaN(Number(value)))throw new Violation(this,value,{value:Validator.errorCode.must_be_a_number});if(this.threshold<value)throw new Violation(this,value,{threshold:this.threshold});return true};return this},NotNull:function(){this.__class__="NotNull";this.validate=function(value){if(null===value||"undefined"===typeof value)throw new Violation(this,value);return true};return this},NotBlank:function(){this.__class__="NotBlank";this.validate=function(value){if("string"!==typeof value)throw new Violation(this,value,{value:Validator.errorCode.must_be_a_string});if(""===value.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new Violation(this,value);return true};return this},Null:function(){this.__class__="Null";this.validate=function(value){if(null!==value)throw new Violation(this,value);return true};return this},Range:function(min,max){this.__class__="Range";if("undefined"===typeof min||"undefined"===typeof max)throw new Error("Range assert expects min and max values");this.min=min;this.max=max;this.validate=function(value){try{if("string"===typeof value&&isNaN(Number(value))||_isArray(value))(new Assert).Length({min:this.min,max:this.max}).validate(value);else(new Assert).GreaterThanOrEqual(this.min).validate(value)&&(new Assert).LessThanOrEqual(this.max).validate(value);return true}catch(violation){throw new Violation(this,value,violation.violation)}return true};return this},Regexp:function(regexp,flag){this.__class__="Regexp";if("undefined"===typeof regexp)throw new Error("You must give a regexp");this.regexp=regexp;this.flag=flag||"";this.validate=function(value){if("string"!==typeof value)throw new Violation(this,value,{value:Validator.errorCode.must_be_a_string});if(!new RegExp(this.regexp,this.flag).test(value))throw new Violation(this,value,{regexp:this.regexp,flag:this.flag});return true};return this},Required:function(){this.__class__="Required";this.validate=function(value){if("undefined"===typeof value)throw new Violation(this,value);try{if("string"===typeof value)(new Assert).NotNull().validate(value)&&(new Assert).NotBlank().validate(value);else if(true===_isArray(value))(new Assert).Length({min:1}).validate(value)}catch(violation){throw new Violation(this,value)}return true};return this},Unique:function(object){this.__class__="Unique";if("object"===typeof object)this.key=object.key;this.validate=function(array){var value,store=[];if(!_isArray(array))throw new Violation(this,array,{value:Validator.errorCode.must_be_an_array});for(var i=0;i<array.length;i++){value="object"===typeof array[i]?array[i][this.key]:array[i];if("undefined"===typeof value)continue;if(-1!==store.indexOf(value))throw new Violation(this,array,{value:value});store.push(value)}return true};return this}};exports.Assert=Assert;exports.Validator=Validator;exports.Violation=Violation;exports.Constraint=Constraint;if(!Array.prototype.indexOf)Array.prototype.indexOf=function(searchElement){if(this===null){throw new TypeError}var t=Object(this);var len=t.length>>>0;if(len===0){return-1}var n=0;if(arguments.length>1){n=Number(arguments[1]);if(n!=n){n=0}else if(n!==0&&n!=Infinity&&n!=-Infinity){n=(n>0||-1)*Math.floor(Math.abs(n))}}if(n>=len){return-1}var k=n>=0?n:Math.max(len-Math.abs(n),0);for(;k<len;k++){if(k in t&&t[k]===searchElement){return k}}return-1};var _isEmptyObject=function(obj){for(var property in obj)return false;return true};var _isArray=function(obj){return Object.prototype.toString.call(obj)==="[object Array]"};if(typeof define==="function"&&define.amd){define("vendors/validator.js/dist/validator",[],function(){return exports})}else if(typeof module!=="undefined"&&module.exports){module.exports=exports}else{window["undefined"!==typeof validatorjs_ns?validatorjs_ns:"Validator"]=exports}return exports}();Validator="undefined"!==typeof Validator?Validator:"undefined"!==typeof module?module.exports:null;var ParsleyValidator=function(validators,catalog){this.__class__="ParsleyValidator";this.Validator=Validator;this.locale="en";this.init(validators||{},catalog||{})};ParsleyValidator.prototype={init:function(validators,catalog){this.catalog=catalog;for(var name in validators)this.addValidator(name,validators[name].fn,validators[name].priority,validators[name].requirementsTransformer);$.emit("parsley:validator:init")},setLocale:function(locale){if("undefined"===typeof this.catalog[locale])throw new Error(locale+" is not available in the catalog");this.locale=locale;return this},addCatalog:function(locale,messages,set){if("object"===typeof messages)this.catalog[locale]=messages;if(true===set)return this.setLocale(locale);return this},addMessage:function(locale,name,message){if("undefined"===typeof this.catalog[locale])this.catalog[locale]={};this.catalog[locale][name.toLowerCase()]=message;return this},validate:function(value,constraints,priority){return(new this.Validator.Validator).validate.apply(new Validator.Validator,arguments)},addValidator:function(name,fn,priority,requirementsTransformer){this.validators[name.toLowerCase()]=function(requirements){return $.extend((new Validator.Assert).Callback(fn,requirements),{priority:priority,requirementsTransformer:requirementsTransformer})};return this},updateValidator:function(name,fn,priority,requirementsTransformer){return this.addValidator(name,fn,priority,requirementsTransformer)},removeValidator:function(name){delete this.validators[name];return this},getErrorMessage:function(constraint){var message;if("type"===constraint.name)message=this.catalog[this.locale][constraint.name][constraint.requirements];else message=this.formatMessage(this.catalog[this.locale][constraint.name],constraint.requirements);return""!==message?message:this.catalog[this.locale].defaultMessage},formatMessage:function(string,parameters){if("object"===typeof parameters){for(var i in parameters)string=this.formatMessage(string,parameters[i]);return string}return"string"===typeof string?string.replace(new RegExp("%s","i"),parameters):""},validators:{notblank:function(){return $.extend((new Validator.Assert).NotBlank(),{priority:2})},required:function(){return $.extend((new Validator.Assert).Required(),{priority:512})},type:function(type){var assert;switch(type){case"email":assert=(new Validator.Assert).Email();break;case"range":case"number":assert=(new Validator.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":assert=(new Validator.Assert).Regexp("^-?\\d+$");break;case"digits":assert=(new Validator.Assert).Regexp("^\\d+$");break;case"alphanum":assert=(new Validator.Assert).Regexp("^\\w+$","i");break;case"url":assert=(new Validator.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+type+"` is not supported")}return $.extend(assert,{priority:256})},pattern:function(regexp){var flags="";if(!!/^\/.*\/(?:[gimy]*)$/.test(regexp)){flags=regexp.replace(/.*\/([gimy]*)$/,"$1");regexp=regexp.replace(new RegExp("^/(.*?)/"+flags+"$"),"$1")}return $.extend((new Validator.Assert).Regexp(regexp,flags),{priority:64})},minlength:function(value){return $.extend((new Validator.Assert).Length({min:value}),{priority:30,requirementsTransformer:function(){return"string"===typeof value&&!isNaN(value)?parseInt(value,10):value}})},maxlength:function(value){return $.extend((new Validator.Assert).Length({max:value}),{priority:30,requirementsTransformer:function(){return"string"===typeof value&&!isNaN(value)?parseInt(value,10):value}})},length:function(array){return $.extend((new Validator.Assert).Length({min:array[0],max:array[1]}),{priority:32})},mincheck:function(length){return this.minlength(length)},maxcheck:function(length){return this.maxlength(length)},check:function(array){return this.length(array)},min:function(value){return $.extend((new Validator.Assert).GreaterThanOrEqual(value),{priority:30,requirementsTransformer:function(){return"string"===typeof value&&!isNaN(value)?parseInt(value,10):value}})},max:function(value){return $.extend((new Validator.Assert).LessThanOrEqual(value),{priority:30,requirementsTransformer:function(){return"string"===typeof value&&!isNaN(value)?parseInt(value,10):value}})},range:function(array){return $.extend((new Validator.Assert).Range(array[0],array[1]),{priority:32,requirementsTransformer:function(){for(var i=0;i<array.length;i++)array[i]="string"===typeof array[i]&&!isNaN(array[i])?parseInt(array[i],10):array[i];return array}})},equalto:function(value){return $.extend((new Validator.Assert).EqualTo(value),{priority:256,requirementsTransformer:function(){return $(value).length?$(value).val():value}})}}};var ParsleyUI=function(options){this.__class__="ParsleyUI"};ParsleyUI.prototype={listen:function(){$.listen("parsley:form:init",this,this.setupForm);$.listen("parsley:field:init",this,this.setupField);$.listen("parsley:field:validated",this,this.reflow);$.listen("parsley:form:validated",this,this.focus);$.listen("parsley:field:reset",this,this.reset);$.listen("parsley:form:destroy",this,this.destroy);$.listen("parsley:field:destroy",this,this.destroy);return this},reflow:function(fieldInstance){if("undefined"===typeof fieldInstance._ui||false===fieldInstance._ui.active)return;var diff=this._diff(fieldInstance.validationResult,fieldInstance._ui.lastValidationResult);fieldInstance._ui.lastValidationResult=fieldInstance.validationResult;fieldInstance._ui.validatedOnce=true;this.manageStatusClass(fieldInstance);this.manageErrorsMessages(fieldInstance,diff);this.actualizeTriggers(fieldInstance);if((diff.kept.length||diff.added.length)&&"undefined"===typeof fieldInstance._ui.failedOnce)this.manageFailingFieldTrigger(fieldInstance)},getErrorsMessages:function(fieldInstance){if(true===fieldInstance.validationResult)return[];var messages=[];for(var i=0;i<fieldInstance.validationResult.length;i++)messages.push(this._getErrorMessage(fieldInstance,fieldInstance.validationResult[i].assert));return messages},manageStatusClass:function(fieldInstance){if(true===fieldInstance.validationResult)this._successClass(fieldInstance);else if(fieldInstance.validationResult.length>0)this._errorClass(fieldInstance);else this._resetClass(fieldInstance)},manageErrorsMessages:function(fieldInstance,diff){if("undefined"!==typeof fieldInstance.options.errorsMessagesDisabled)return;if("undefined"!==typeof fieldInstance.options.errorMessage){if(diff.added.length||diff.kept.length){if(0===fieldInstance._ui.$errorsWrapper.find(".parsley-custom-error-message").length)fieldInstance._ui.$errorsWrapper.append($(fieldInstance.options.errorTemplate).addClass("parsley-custom-error-message"));return fieldInstance._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(fieldInstance.options.errorMessage)
}return fieldInstance._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove()}for(var i=0;i<diff.removed.length;i++)this.removeError(fieldInstance,diff.removed[i].assert.name,true);for(i=0;i<diff.added.length;i++)this.addError(fieldInstance,diff.added[i].assert.name,undefined,diff.added[i].assert,true);for(i=0;i<diff.kept.length;i++)this.updateError(fieldInstance,diff.kept[i].assert.name,undefined,diff.kept[i].assert,true)},addError:function(fieldInstance,name,message,assert,doNotUpdateClass){fieldInstance._ui.$errorsWrapper.addClass("filled").append($(fieldInstance.options.errorTemplate).addClass("parsley-"+name).html(message||this._getErrorMessage(fieldInstance,assert)));if(true!==doNotUpdateClass)this._errorClass(fieldInstance)},updateError:function(fieldInstance,name,message,assert,doNotUpdateClass){fieldInstance._ui.$errorsWrapper.addClass("filled").find(".parsley-"+name).html(message||this._getErrorMessage(fieldInstance,assert));if(true!==doNotUpdateClass)this._errorClass(fieldInstance)},removeError:function(fieldInstance,name,doNotUpdateClass){fieldInstance._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+name).remove();if(true!==doNotUpdateClass)this.manageStatusClass(fieldInstance)},focus:function(formInstance){if(true===formInstance.validationResult||"none"===formInstance.options.focus)return formInstance._focusedField=null;formInstance._focusedField=null;for(var i=0;i<formInstance.fields.length;i++)if(true!==formInstance.fields[i].validationResult&&formInstance.fields[i].validationResult.length>0&&"undefined"===typeof formInstance.fields[i].options.noFocus){if("first"===formInstance.options.focus){formInstance._focusedField=formInstance.fields[i].$element;return formInstance._focusedField.focus()}formInstance._focusedField=formInstance.fields[i].$element}if(null===formInstance._focusedField)return null;return formInstance._focusedField.focus()},_getErrorMessage:function(fieldInstance,constraint){var customConstraintErrorMessage=constraint.name+"Message";if("undefined"!==typeof fieldInstance.options[customConstraintErrorMessage])return window.ParsleyValidator.formatMessage(fieldInstance.options[customConstraintErrorMessage],constraint.requirements);return window.ParsleyValidator.getErrorMessage(constraint)},_diff:function(newResult,oldResult,deep){var added=[],kept=[];for(var i=0;i<newResult.length;i++){var found=false;for(var j=0;j<oldResult.length;j++)if(newResult[i].assert.name===oldResult[j].assert.name){found=true;break}if(found)kept.push(newResult[i]);else added.push(newResult[i])}return{kept:kept,added:added,removed:!deep?this._diff(oldResult,newResult,true).added:[]}},setupForm:function(formInstance){formInstance.$element.on("submit.Parsley",false,$.proxy(formInstance.onSubmitValidate,formInstance));if(false===formInstance.options.uiEnabled)return;formInstance.$element.attr("novalidate","")},setupField:function(fieldInstance){var _ui={active:false};if(false===fieldInstance.options.uiEnabled)return;_ui.active=true;fieldInstance.$element.attr(fieldInstance.options.namespace+"id",fieldInstance.__id__);_ui.$errorClassHandler=this._manageClassHandler(fieldInstance);_ui.errorsWrapperId="parsley-id-"+("undefined"!==typeof fieldInstance.options.multiple?"multiple-"+fieldInstance.options.multiple:fieldInstance.__id__);_ui.$errorsWrapper=$(fieldInstance.options.errorsWrapper).attr("id",_ui.errorsWrapperId);_ui.lastValidationResult=[];_ui.validatedOnce=false;_ui.validationInformationVisible=false;fieldInstance._ui=_ui;if(!fieldInstance.$element.is(fieldInstance.options.excluded)){this._insertErrorWrapper(fieldInstance)}this.actualizeTriggers(fieldInstance)},_manageClassHandler:function(fieldInstance){if("string"===typeof fieldInstance.options.classHandler&&$(fieldInstance.options.classHandler).length)return $(fieldInstance.options.classHandler);var $handler=fieldInstance.options.classHandler(fieldInstance);if("undefined"!==typeof $handler&&$handler.length)return $handler;if("undefined"===typeof fieldInstance.options.multiple||fieldInstance.$element.is("select"))return fieldInstance.$element;return fieldInstance.$element.parent()},_insertErrorWrapper:function(fieldInstance){var $errorsContainer;if("string"===typeof fieldInstance.options.errorsContainer){if($(fieldInstance.options.errorsContainer).length)return $(fieldInstance.options.errorsContainer).append(fieldInstance._ui.$errorsWrapper);else if(window.console&&window.console.warn)window.console.warn("The errors container `"+fieldInstance.options.errorsContainer+"` does not exist in DOM")}else if("function"===typeof fieldInstance.options.errorsContainer)$errorsContainer=fieldInstance.options.errorsContainer(fieldInstance);if("undefined"!==typeof $errorsContainer&&$errorsContainer.length)return $errorsContainer.append(fieldInstance._ui.$errorsWrapper);return"undefined"===typeof fieldInstance.options.multiple?fieldInstance.$element.after(fieldInstance._ui.$errorsWrapper):fieldInstance.$element.parent().after(fieldInstance._ui.$errorsWrapper)},actualizeTriggers:function(fieldInstance){var that=this;if(fieldInstance.options.multiple)$("["+fieldInstance.options.namespace+'multiple="'+fieldInstance.options.multiple+'"]').each(function(){$(this).off(".Parsley")});else fieldInstance.$element.off(".Parsley");if(false===fieldInstance.options.trigger)return;var triggers=fieldInstance.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");if(""===triggers)return;if(fieldInstance.options.multiple)$("["+fieldInstance.options.namespace+'multiple="'+fieldInstance.options.multiple+'"]').each(function(){$(this).on(triggers.split(" ").join(".Parsley ")+".Parsley",false,$.proxy("function"===typeof fieldInstance.eventValidate?fieldInstance.eventValidate:that.eventValidate,fieldInstance))});else fieldInstance.$element.on(triggers.split(" ").join(".Parsley ")+".Parsley",false,$.proxy("function"===typeof fieldInstance.eventValidate?fieldInstance.eventValidate:this.eventValidate,fieldInstance))},eventValidate:function(event){if(new RegExp("key").test(event.type))if(!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold)return;this._ui.validatedOnce=true;this.validate()},manageFailingFieldTrigger:function(fieldInstance){fieldInstance._ui.failedOnce=true;if(fieldInstance.options.multiple)$("["+fieldInstance.options.namespace+'multiple="'+fieldInstance.options.multiple+'"]').each(function(){if(!new RegExp("change","i").test($(this).parsley().options.trigger||""))return $(this).on("change.ParsleyFailedOnce",false,$.proxy(fieldInstance.validate,fieldInstance))});if(fieldInstance.$element.is("select"))if(!new RegExp("change","i").test(fieldInstance.options.trigger||""))return fieldInstance.$element.on("change.ParsleyFailedOnce",false,$.proxy(fieldInstance.validate,fieldInstance));if(!new RegExp("keyup","i").test(fieldInstance.options.trigger||""))return fieldInstance.$element.on("keyup.ParsleyFailedOnce",false,$.proxy(fieldInstance.validate,fieldInstance))},reset:function(parsleyInstance){parsleyInstance.$element.off(".Parsley");parsleyInstance.$element.off(".ParsleyFailedOnce");if("undefined"===typeof parsleyInstance._ui)return;if("ParsleyForm"===parsleyInstance.__class__)return;parsleyInstance._ui.$errorsWrapper.removeClass("filled").children().remove();this._resetClass(parsleyInstance);parsleyInstance._ui.validatedOnce=false;parsleyInstance._ui.lastValidationResult=[];parsleyInstance._ui.validationInformationVisible=false},destroy:function(parsleyInstance){this.reset(parsleyInstance);if("ParsleyForm"===parsleyInstance.__class__)return;if("undefined"!==typeof parsleyInstance._ui)parsleyInstance._ui.$errorsWrapper.remove();delete parsleyInstance._ui},_successClass:function(fieldInstance){fieldInstance._ui.validationInformationVisible=true;fieldInstance._ui.$errorClassHandler.removeClass(fieldInstance.options.errorClass).addClass(fieldInstance.options.successClass)},_errorClass:function(fieldInstance){fieldInstance._ui.validationInformationVisible=true;fieldInstance._ui.$errorClassHandler.removeClass(fieldInstance.options.successClass).addClass(fieldInstance.options.errorClass)},_resetClass:function(fieldInstance){fieldInstance._ui.$errorClassHandler.removeClass(fieldInstance.options.successClass).removeClass(fieldInstance.options.errorClass)}};var ParsleyOptionsFactory=function(defaultOptions,globalOptions,userOptions,namespace){this.__class__="OptionsFactory";this.__id__=ParsleyUtils.hash(4);this.formOptions=null;this.fieldOptions=null;this.staticOptions=$.extend(true,{},defaultOptions,globalOptions,userOptions,{namespace:namespace})};ParsleyOptionsFactory.prototype={get:function(parsleyInstance){if("undefined"===typeof parsleyInstance.__class__)throw new Error("Parsley Instance expected");switch(parsleyInstance.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(parsleyInstance);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(parsleyInstance);default:throw new Error("Instance "+parsleyInstance.__class__+" is not supported")}},getFormOptions:function(formInstance){this.formOptions=ParsleyUtils.attr(formInstance.$element,this.staticOptions.namespace);return $.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(fieldInstance){this.fieldOptions=ParsleyUtils.attr(fieldInstance.$element,this.staticOptions.namespace);if(null===this.formOptions&&"undefined"!==typeof fieldInstance.parent)this.formOptions=this.getFormOptions(fieldInstance.parent);return $.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var ParsleyForm=function(element,OptionsFactory){this.__class__="ParsleyForm";this.__id__=ParsleyUtils.hash(4);if("OptionsFactory"!==ParsleyUtils.get(OptionsFactory,"__class__"))throw new Error("You must give an OptionsFactory instance");this.OptionsFactory=OptionsFactory;this.$element=$(element);this.validationResult=null;this.options=this.OptionsFactory.get(this)};ParsleyForm.prototype={onSubmitValidate:function(event){this.validate(undefined,undefined,event);if(false===this.validationResult&&event instanceof $.Event){event.stopImmediatePropagation();event.preventDefault()}return this},validate:function(group,force,event){this.submitEvent=event;this.validationResult=true;var fieldValidationResult=[];this._refreshFields();$.emit("parsley:form:validate",this);for(var i=0;i<this.fields.length;i++){if(group&&!this._isFieldInGroup(this.fields[i],group))continue;fieldValidationResult=this.fields[i].validate(force);if(true!==fieldValidationResult&&fieldValidationResult.length>0&&this.validationResult)this.validationResult=false}$.emit("parsley:form:validated",this);return this.validationResult},isValid:function(group,force){this._refreshFields();for(var i=0;i<this.fields.length;i++){if(group&&!this._isFieldInGroup(this.fields[i],group))continue;if(false===this.fields[i].isValid(force))return false}return true},_isFieldInGroup:function(field,group){if(ParsleyUtils.isArray(field.options.group))return-1!==$.inArray(group,field.options.group);return field.options.group===group},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var self=this;this.fields=[];this.fieldsMappedById={};this.$element.find(this.options.inputs).each(function(){var fieldInstance=new window.Parsley(this,{},self);if(("ParsleyField"===fieldInstance.__class__||"ParsleyFieldMultiple"===fieldInstance.__class__)&&!fieldInstance.$element.is(fieldInstance.options.excluded))if("undefined"===typeof self.fieldsMappedById[fieldInstance.__class__+"-"+fieldInstance.__id__]){self.fieldsMappedById[fieldInstance.__class__+"-"+fieldInstance.__id__]=fieldInstance;self.fields.push(fieldInstance)}});return this}};var ConstraintFactory=function(parsleyField,name,requirements,priority,isDomConstraint){if(!new RegExp("ParsleyField").test(ParsleyUtils.get(parsleyField,"__class__")))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");if("function"!==typeof window.ParsleyValidator.validators[name]&&"Assert"!==window.ParsleyValidator.validators[name](requirements).__parentClass__)throw new Error("Valid validator expected");var getPriority=function(parsleyField,name){if("undefined"!==typeof parsleyField.options[name+"Priority"])return parsleyField.options[name+"Priority"];return ParsleyUtils.get(window.ParsleyValidator.validators[name](requirements),"priority")||2};priority=priority||getPriority(parsleyField,name);if("function"===typeof window.ParsleyValidator.validators[name](requirements).requirementsTransformer)requirements=window.ParsleyValidator.validators[name](requirements).requirementsTransformer();return $.extend(window.ParsleyValidator.validators[name](requirements),{name:name,requirements:requirements,priority:priority,groups:[priority],isDomConstraint:isDomConstraint||ParsleyUtils.attr(parsleyField.$element,parsleyField.options.namespace,name)})};var ParsleyField=function(field,OptionsFactory,parsleyFormInstance){this.__class__="ParsleyField";this.__id__=ParsleyUtils.hash(4);this.$element=$(field);if("undefined"!==typeof parsleyFormInstance){this.parent=parsleyFormInstance;this.OptionsFactory=this.parent.OptionsFactory;this.options=this.OptionsFactory.get(this)}else{this.OptionsFactory=OptionsFactory;this.options=this.OptionsFactory.get(this)}this.constraints=[];this.constraintsByName={};this.validationResult=[];this._bindConstraints()};ParsleyField.prototype={validate:function(force){this.value=this.getValue();$.emit("parsley:field:validate",this);$.emit("parsley:field:"+(this.isValid(force,this.value)?"success":"error"),this);$.emit("parsley:field:validated",this);return this.validationResult},isValid:function(force,value){this.refreshConstraints();var priorities=this._getConstraintsSortedPriorities();if(0===priorities.length)return this.validationResult=[];value=value||this.getValue();if(!value.length&&!this._isRequired()&&"undefined"===typeof this.options.validateIfEmpty&&true!==force)return this.validationResult=[];if(false===this.options.priorityEnabled)return true===(this.validationResult=this.validateThroughValidator(value,this.constraints,"Any"));for(var i=0;i<priorities.length;i++)if(true!==(this.validationResult=this.validateThroughValidator(value,this.constraints,priorities[i])))return false;return true},getValue:function(){var value;if("undefined"!==typeof this.options.value)value=this.options.value;else value=this.$element.val();if("undefined"===typeof value||null===value)return"";if(true===this.options.trimValue)return value.replace(/^\s+|\s+$/g,"");return value},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(name,requirements,priority,isDomConstraint){name=name.toLowerCase();if("function"===typeof window.ParsleyValidator.validators[name]){var constraint=new ConstraintFactory(this,name,requirements,priority,isDomConstraint);if("undefined"!==this.constraintsByName[constraint.name])this.removeConstraint(constraint.name);this.constraints.push(constraint);this.constraintsByName[constraint.name]=constraint}return this},removeConstraint:function(name){for(var i=0;i<this.constraints.length;i++)if(name===this.constraints[i].name){this.constraints.splice(i,1);break}delete this.constraintsByName[name];return this},updateConstraint:function(name,parameters,priority){return this.removeConstraint(name).addConstraint(name,parameters,priority)},_bindConstraints:function(){var constraints=[],constraintsByName={};for(var i=0;i<this.constraints.length;i++)if(false===this.constraints[i].isDomConstraint){constraints.push(this.constraints[i]);constraintsByName[this.constraints[i].name]=this.constraints[i]}this.constraints=constraints;this.constraintsByName=constraintsByName;for(var name in this.options)this.addConstraint(name,this.options[name]);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){if(this.$element.hasClass("required")||this.$element.attr("required"))this.addConstraint("required",true,undefined,true);if("string"===typeof this.$element.attr("pattern"))this.addConstraint("pattern",this.$element.attr("pattern"),undefined,true);if("undefined"!==typeof this.$element.attr("min")&&"undefined"!==typeof this.$element.attr("max"))this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],undefined,true);else if("undefined"!==typeof this.$element.attr("min"))this.addConstraint("min",this.$element.attr("min"),undefined,true);else if("undefined"!==typeof this.$element.attr("max"))this.addConstraint("max",this.$element.attr("max"),undefined,true);var type=this.$element.attr("type");if("undefined"===typeof type)return this;if("number"===type){if("undefined"===typeof this.$element.attr("step")||0===parseFloat(this.$element.attr("step"))%1){return this.addConstraint("type","integer",undefined,true)}else{return this.addConstraint("type","number",undefined,true)}}else if(new RegExp(type,"i").test("email url range")){return this.addConstraint("type",type,undefined,true)}return this},_isRequired:function(){if("undefined"===typeof this.constraintsByName.required)return false;return false!==this.constraintsByName.required.requirements},_getConstraintsSortedPriorities:function(){var priorities=[];for(var i=0;i<this.constraints.length;i++)if(-1===priorities.indexOf(this.constraints[i].priority))priorities.push(this.constraints[i].priority);priorities.sort(function(a,b){return b-a});return priorities}};var ParsleyMultiple=function(){this.__class__="ParsleyFieldMultiple"};ParsleyMultiple.prototype={addElement:function($element){this.$elements.push($element);return this},refreshConstraints:function(){var fieldConstraints;this.constraints=[];if(this.$element.is("select")){this.actualizeOptions()._bindConstraints();return this}for(var i=0;i<this.$elements.length;i++){if(!$("html").has(this.$elements[i]).length){this.$elements.splice(i,1);continue}fieldConstraints=this.$elements[i].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var j=0;j<fieldConstraints.length;j++)this.addConstraint(fieldConstraints[j].name,fieldConstraints[j].requirements,fieldConstraints[j].priority,fieldConstraints[j].isDomConstraint)}return this},getValue:function(){if("undefined"!==typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return $("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||"";if(this.$element.is("input[type=checkbox]")){var values=[];$("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){values.push($(this).val())});return values.length?values:[]}if(this.$element.is("select")&&null===this.$element.val())return[];return this.$element.val()},_init:function(multiple){this.$elements=[this.$element];this.options.multiple=multiple;return this}};var o=$({}),subscribed={};$.listen=function(name){if("undefined"===typeof subscribed[name])subscribed[name]=[];if("function"===typeof arguments[1])return subscribed[name].push({fn:arguments[1]});if("object"===typeof arguments[1]&&"function"===typeof arguments[2])return subscribed[name].push({fn:arguments[2],ctxt:arguments[1]});throw new Error("Wrong parameters")};$.listenTo=function(instance,name,fn){if("undefined"===typeof subscribed[name])subscribed[name]=[];if(!(instance instanceof ParsleyField)&&!(instance instanceof ParsleyForm))throw new Error("Must give Parsley instance");if("string"!==typeof name||"function"!==typeof fn)throw new Error("Wrong parameters");subscribed[name].push({instance:instance,fn:fn})};$.unsubscribe=function(name,fn){if("undefined"===typeof subscribed[name])return;if("string"!==typeof name||"function"!==typeof fn)throw new Error("Wrong arguments");for(var i=0;i<subscribed[name].length;i++)if(subscribed[name][i].fn===fn)return subscribed[name].splice(i,1)};$.unsubscribeTo=function(instance,name){if("undefined"===typeof subscribed[name])return;if(!(instance instanceof ParsleyField)&&!(instance instanceof ParsleyForm))throw new Error("Must give Parsley instance");for(var i=0;i<subscribed[name].length;i++)if("undefined"!==typeof subscribed[name][i].instance&&subscribed[name][i].instance.__id__===instance.__id__)return subscribed[name].splice(i,1)};$.unsubscribeAll=function(name){if("undefined"===typeof subscribed[name])return;delete subscribed[name]};$.emit=function(name,instance){if("undefined"===typeof subscribed[name])return;for(var i=0;i<subscribed[name].length;i++){if("undefined"===typeof subscribed[name][i].instance){subscribed[name][i].fn.apply("undefined"!==typeof subscribed[name][i].ctxt?subscribed[name][i].ctxt:o,Array.prototype.slice.call(arguments,1));continue}if(!(instance instanceof ParsleyField)&&!(instance instanceof ParsleyForm))continue;if(subscribed[name][i].instance.__id__===instance.__id__){subscribed[name][i].fn.apply(o,Array.prototype.slice.call(arguments,1));continue}if(subscribed[name][i].instance instanceof ParsleyForm&&instance instanceof ParsleyField)for(var j=0;j<subscribed[name][i].instance.fields.length;j++)if(subscribed[name][i].instance.fields[j].__id__===instance.__id__){subscribed[name][i].fn.apply(o,Array.prototype.slice.call(arguments,1));continue}}};$.subscribed=function(){return subscribed};window.ParsleyConfig=window.ParsleyConfig||{};window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{};window.ParsleyConfig.i18n.en=$.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."});if("undefined"!==typeof window.ParsleyValidator)window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,true);var Parsley=function(element,options,parsleyFormInstance){this.__class__="Parsley";this.__version__="2.0.6";this.__id__=ParsleyUtils.hash(4);if("undefined"===typeof element)throw new Error("You must give an element");if("undefined"!==typeof parsleyFormInstance&&"ParsleyForm"!==parsleyFormInstance.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.init($(element),options,parsleyFormInstance)};Parsley.prototype={init:function($element,options,parsleyFormInstance){if(!$element.length)throw new Error("You must bind Parsley on an existing element.");this.$element=$element;if(this.$element.data("Parsley")){var savedparsleyFormInstance=this.$element.data("Parsley");if("undefined"!==typeof parsleyFormInstance)savedparsleyFormInstance.parent=parsleyFormInstance;return savedparsleyFormInstance}this.OptionsFactory=new ParsleyOptionsFactory(ParsleyDefaults,ParsleyUtils.get(window,"ParsleyConfig")||{},options,this.getNamespace(options));this.options=this.OptionsFactory.get(this);if(this.$element.is("form")||ParsleyUtils.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs))return this.bind("parsleyForm");else if(this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded))return this.isMultiple()?this.handleMultiple(parsleyFormInstance):this.bind("parsleyField",parsleyFormInstance);return this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"===typeof this.options.multiple||this.$element.is("select")&&"undefined"!==typeof this.$element.attr("multiple")},handleMultiple:function(parsleyFormInstance){var that=this,name,multiple,parsleyMultipleInstance;this.options=$.extend(this.options,parsleyFormInstance?parsleyFormInstance.OptionsFactory.get(parsleyFormInstance):{},ParsleyUtils.attr(this.$element,this.options.namespace));if(this.options.multiple)multiple=this.options.multiple;else if("undefined"!==typeof this.$element.attr("name")&&this.$element.attr("name").length)multiple=name=this.$element.attr("name");else if("undefined"!==typeof this.$element.attr("id")&&this.$element.attr("id").length)multiple=this.$element.attr("id");if(this.$element.is("select")&&"undefined"!==typeof this.$element.attr("multiple")){return this.bind("parsleyFieldMultiple",parsleyFormInstance,multiple||this.__id__)}else if("undefined"===typeof multiple){if(window.console&&window.console.warn)window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element);return this}multiple=multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,"");if("undefined"!==typeof name){$('input[name="'+name+'"]').each(function(){if($(this).is("input[type=radio], input[type=checkbox]"))$(this).attr(that.options.namespace+"multiple",multiple)})}if($("["+this.options.namespace+"multiple="+multiple+"]").length){for(var i=0;i<$("["+this.options.namespace+"multiple="+multiple+"]").length;i++){if("undefined"!==typeof $($("["+this.options.namespace+"multiple="+multiple+"]").get(i)).data("Parsley")){parsleyMultipleInstance=$($("["+this.options.namespace+"multiple="+multiple+"]").get(i)).data("Parsley");if(!this.$element.data("ParsleyFieldMultiple")){parsleyMultipleInstance.addElement(this.$element);this.$element.attr(this.options.namespace+"id",parsleyMultipleInstance.__id__)}break}}}this.bind("parsleyField",parsleyFormInstance,multiple,true);return parsleyMultipleInstance||this.bind("parsleyFieldMultiple",parsleyFormInstance,multiple)},getNamespace:function(options){if("undefined"!==typeof this.$element.data("parsleyNamespace"))return this.$element.data("parsleyNamespace");if("undefined"!==typeof ParsleyUtils.get(options,"namespace"))return options.namespace;if("undefined"!==typeof ParsleyUtils.get(window,"ParsleyConfig.namespace"))return window.ParsleyConfig.namespace;return ParsleyDefaults.namespace},bind:function(type,parentParsleyFormInstance,multiple,doNotStore){var parsleyInstance;switch(type){case"parsleyForm":parsleyInstance=$.extend(new ParsleyForm(this.$element,this.OptionsFactory),new ParsleyAbstract,window.ParsleyExtend)._bindFields();break;case"parsleyField":parsleyInstance=$.extend(new ParsleyField(this.$element,this.OptionsFactory,parentParsleyFormInstance),new ParsleyAbstract,window.ParsleyExtend);break;case"parsleyFieldMultiple":parsleyInstance=$.extend(new ParsleyField(this.$element,this.OptionsFactory,parentParsleyFormInstance),new ParsleyAbstract,new ParsleyMultiple,window.ParsleyExtend)._init(multiple);break;default:throw new Error(type+"is not a supported Parsley type")}if("undefined"!==typeof multiple)ParsleyUtils.setAttr(this.$element,this.options.namespace,"multiple",multiple);if("undefined"!==typeof doNotStore){this.$element.data("ParsleyFieldMultiple",parsleyInstance);return parsleyInstance}if(new RegExp("ParsleyF","i").test(parsleyInstance.__class__)){this.$element.data("Parsley",parsleyInstance);$.emit("parsley:"+("parsleyForm"===type?"form":"field")+":init",parsleyInstance)}return parsleyInstance}};$.fn.parsley=$.fn.psly=function(options){if(this.length>1){var instances=[];this.each(function(){instances.push($(this).parsley(options))});return instances}if(!$(this).length){if(window.console&&window.console.warn)window.console.warn("You must bind Parsley on an existing element.");return}return new Parsley(this,options)};window.ParsleyUI="function"===typeof ParsleyUtils.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new ParsleyUI).listen();if("undefined"===typeof window.ParsleyExtend)window.ParsleyExtend={};if("undefined"===typeof window.ParsleyConfig)window.ParsleyConfig={};window.Parsley=window.psly=Parsley;window.ParsleyUtils=ParsleyUtils;window.ParsleyValidator=new ParsleyValidator(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);if(false!==ParsleyUtils.get(window,"ParsleyConfig.autoBind"))$(function(){if($("[data-parsley-validate]").length)$("[data-parsley-validate]").parsley()})});
window.ParsleyConfig=window.ParsleyConfig||{};window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{};window.ParsleyConfig.i18n.nl=$.extend(window.ParsleyConfig.i18n.nl||{},{defaultMessage:"Deze waarde lijkt onjuist.",type:{email:"Dit lijkt geen geldig e-mail adres te zijn.",url:"Dit lijkt geen geldige URL te zijn.",urlstrict:"Dit is geen geldige URL.",number:"Deze waarde moet een nummer zijn.",integer:"Deze waarde moet een nummer zijn.",digits:"Deze waarde moet numeriek zijn.",dateIso:"Deze waarde moet een datum in het volgende formaat zijn: (YYYY-MM-DD).",alphanum:"Deze waarde moet alfanumeriek zijn."},notnull:"Deze waarde mag niet leeg zijn.",notblank:"Deze waarde mag niet leeg zijn.",required:"Dit veld is verplicht",regexp:"Deze waarde lijkt onjuist te zijn.",min:"Deze waarde mag niet lager zijn dan %s.",max:"Deze waarde mag niet groter zijn dan %s.",range:"Deze waarde moet tussen %s en %s liggen.",minlength:"Deze tekst is te kort. Deze moet uit minimaal %s karakters bestaan.",maxlength:"Deze waarde is te lang. Deze mag maximaal %s karakters lang zijn.",rangelength:"Deze waarde moet tussen %s en %s karakters lang zijn.",equalto:"Deze waardes moeten identiek zijn.",minwords:"Deze waarde moet minstens %s woorden bevatten.",maxwords:"Deze waarde mag maximaal %s woorden bevatten.",rangewords:"Deze waarde moet tussen de %s en %s woorden bevatten.",greaterthan:"Deze waarde moet groter dan %s zijn.",lessthan:"Deze waarde moet kleiner dan %s zijn."});if("undefined"!==typeof window.ParsleyValidator)window.ParsleyValidator.addCatalog("nl",window.ParsleyConfig.i18n.nl,true);
(function(e,d,a,g){var f=function(){var h=a.createElement("input");if("oninput"in h){return true}h.setAttribute("oninput","return;");return typeof h.oninput==="function"}();var b=function(k,i){var h={options:{}},j=typeof k;if(j==="function"){h.method=k}else{if(j==="string"&&i[k]){h.method=i[k].method}else{if(j==="object"){j=typeof k.method;if(j==="function"){h.method=k.method}else{if(j==="string"&&i[k.method]){h.method=i[k.method].method;h.options=e.extend(true,h.options,i[k.method].options,k.options)}}}}}return h};e.autosave={timer:0,$queues:e({}),states:{changed:"changed",modified:"modified"},options:{namespace:"autosave",callbacks:{trigger:"change",scope:null,data:"serialize",condition:null,save:"ajax"},events:{save:"save",saved:"saved",changed:"changed",modified:"modified"}},initialize:function(l,i){var h=this;this.$elements=l;this.options=e.extend(true,{},this.options,i);if(this.elements().length){var k,n=this.forms(),j=this.inputs();n.data(this.options.namespace,this);e.each(this.options.events,function(p,o){h.options.events[p]=[o,h.options.namespace].join(".")});e.each(this.options.callbacks,function(o,p){k=[];if(p){e.each(e.isArray(p)?p:[p],function(q,r){r=b(r,h.callbacks[o]);if(e.isFunction(r.method)){k.push(r)}})}h.options.callbacks[o]=k});n.bind([this.options.events.save,this.options.namespace].join("."),function(p,o){h.save(o,p.type)});j.bind(["change",this.options.namespace].join("."),function(o){e(this).data([h.options.namespace,h.states.changed].join("."),true);e(this.form).triggerHandler(h.options.events.changed,[this])});var m=f?"input":"keyup";j.bind([m,this.options.namespace].join("."),function(o){e(this).data([h.options.namespace,h.states.modified].join("."),true);e(this.form).triggerHandler(h.options.events.modified,[this])});e.each(this.options.callbacks.trigger,function(p,o){o.method.call(h,o.options)})}return l},elements:function(h){if(!h){h=this.$elements}return e(h).filter(function(){return this.elements||this.form})},forms:function(h){return e(e.unique(this.elements(h).map(function(){return this.elements?this:this.form}).get()))},inputs:function(h){return this.elements(h).map(function(){return this.elements?e.makeArray(e(this).find(":input")):this})},validInputs:function(h){return this.inputs(h)},changedInputs:function(h){var i=this;return this.inputs(h).filter(function(){return e(this).data([i.options.namespace,i.states.changed].join("."))})},modifiedInputs:function(h){var i=this;return this.inputs(h).filter(function(){return e(this).data([i.options.namespace,i.states.modified].join("."))})},startInterval:function(i){var h=this;i=i||this.interval;if(this.timer){this.stopInterval()}if(!isNaN(parseInt(i))){this.timer=setTimeout(function(){h.save(false,h.timer)},i)}},stopInterval:function(){clearTimeout(this.timer);this.timer=null},save:function(h,j){var i=this,m=false,k=this.validInputs(h);if(this.options.callbacks.save.length){e.each(this.options.callbacks.scope,function(o,p){k=p.method.call(i,p.options,k)});if(k.length){var n,l=true;e.each(this.options.callbacks.data,function(o,p){n=p.method.call(i,p.options,k,n)});e.each(this.options.callbacks.condition,function(o,p){return(l=p.method.call(i,p.options,k,n,j))!==false});if(l){e.each(this.options.callbacks.save,function(o,p){i.$queues.queue("save",function(){if(p.method.call(i,p.options,n)===false){i.resetFields()}else{i.next("save",true)}})});m=true}}}this.next("save",m)},next:function(j,i){var h=this.$queues.queue(j);if(h&&h.length){this.$queues.dequeue(j)}else{this.finished(h,j,i)}},resetFields:function(){this.inputs().data([this.options.namespace,this.states.changed].join("."),false);this.inputs().data([this.options.namespace,this.states.modified].join("."),false)},finished:function(h,j,i){if(j==="save"){if(h){this.forms().triggerHandler(this.options.events.saved)}if(i){this.resetFields()}if(this.timer){this.startInterval()}}}};var c=e.autosave.callbacks={};e.each(e.autosave.options.callbacks,function(h){c[h]={}});e.extend(c.trigger,{change:{method:function(){var h=this;this.forms().bind([this.options.events.changed,this.options.namespace].join("."),function(j,i){h.save(i,j.type)})}},modify:{method:function(){var h=this;this.forms().bind([this.options.events.modified,this.options.namespace].join("."),function(j,i){h.save(i,j.type)})}},interval:{method:function(h){if(!isNaN(parseInt(h.interval))){this.startInterval(this.interval=h.interval)}},options:{interval:3e4}}});e.extend(c.scope,{all:{method:function(){return this.validInputs()}},changed:{method:function(){return this.changedInputs()}},modified:{method:function(){return this.modifiedInputs()}}});e.extend(c.data,{serialize:{method:function(h,i){return i.serialize()}},serializeArray:{method:function(h,i){return i.serializeArray()}},serializeObject:{method:function(h,i){var j={};e.each(i.serializeArray(),function(l,m){var p=m.name,k=m.value;j[p]=j[p]===g?k:e.isArray(j[p])?j[p].concat(k):[j[p],k]});return j}}});e.extend(c.condition,{interval:{method:function(i,j,k,h){return!this.timer||this.timer===h}},changed:{method:function(){return this.changedInputs().length>0}},modified:{method:function(){return this.modifiedInputs().length>0}}});e.extend(c.save,{ajax:{method:function(j,l){var i=this,m=e.extend({},j);m.complete=function(o,n){if(e.isFunction(j.complete)){j.complete.apply(i,arguments)}i.next("save")};if(e.isFunction(m.data)){m.data=m.data.call(i,l)}var k=e.type(l),h=e.type(m.data);if(h=="undefined"){m.data=l}else{if(k==h){switch(k){case"array":m.data=e.merge(l,m.data);break;case"object":m.data=e.extend(l,m.data);break;case"string":m.data=l+(l.length?"&":"")+m.data;break}}else{throw"Cannot merge form data with options data, must be of same type."}}if(self.xhr&&"pending"===self.xhr.state()){self.xhr.abort()}self.xhr=e.ajax(m);return false},options:{url:d.location.href}}});e.fn.autosave=function(h){return e.extend({},e.autosave).initialize(this,h)}})(jQuery,window,document);
(function($){"use strict";var nl2br=function(str,isXhtml){var breakTag=isXhtml||typeof isXhtml==="undefined"?"<br />":"<br>";return(str+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+breakTag+"$2")},updateData=function(dataField,field,val){clearErrors(dataField);if(field.$element.attr("id")!==dataField.$element.attr("id")){if(dataField.$element.attr("type")==="checkbox"){dataField.$element.prop("checked",val).trigger("change")}else{dataField.$element.val(val)}}},updateErrors=function(field,errors){clearErrors(field);$.each(errors,function(key,error){window.ParsleyUI.addError(field,"remote",nl2br(error))});window.ParsleyUI.manageFailingFieldTrigger(field)},updateDataAndErrors=function(field){var json;clearErrors(field);if(typeof field._xhr==="undefined"||typeof field._xhr.responseText==="undefined"){return}json=$.parseJSON(field._xhr.responseText);$.each(json.data,function(key,val){if(val===Object(val)){$.each(val,function(key2,val2){var dataField=$("#subscription_"+key+"_"+key2).parsley();updateData(dataField,field,val2)})}else{var dataField=$("#subscription_"+key).parsley();updateData(dataField,field,val)}});$.each(json.errors,function(key,val){if(!$.isArray(val)){$.each(val,function(key2,val2){var field=$("#subscription_"+key+"_"+key2).parsley();updateErrors(field,val2)})}else{var field=$("#subscription_"+key).parsley();updateErrors(field,val)}})},clearErrors=function(field){field._ui.$errorsWrapper.removeClass("filled").children().remove();field._ui.$errorClassHandler.removeClass(field.options.errorClass);field._ui.lastValidationResult=[];field._ui.validationInformationVisible=false};$(function(){var $form=$("#form"),$inputs=$form.find("input, select, textarea");$form.find("input, select").on("keypress",function(event){if(event.which===13){event.preventDefault()}});$.listen("parsley:field:init",function(field){field.$element.closest(".form-group").addClass("has-feedback")});$form.parsley({trigger:"keyup",errorClass:"has-error",successClass:"has-success",classHandler:function(field){return field.$element.closest(".form-group")},errorsWrapper:'<ul class="help-block"></ul>'}).subscribe("parsley:form:validated",function(form){if(true!==form.validationResult){var tabId=form.$element.find(".has-error").first().closest(".tab-pane").attr("id");$('.nav-tabs a[href="#'+tabId+'"]').tab("show")}}).subscribe("parsley:field:validate",function(field){field.reset();field.$element.next("i").remove();field.$element.after('<i class="form-control-feedback fa fa-cog fa-spin"></i>')}).subscribe("parsley:field:success",function(field){field.$element.next("i").remove();if(field.validationResult===true){field.$element.after('<i class="form-control-feedback fa fa-check"></i>')}}).subscribe("parsley:field:error",function(field){field.$element.next("i").remove();field.$element.after('<i class="form-control-feedback fa fa-remove"></i>')});$form.find(":input[data-parsley-remote]").each(function(){var field=$(this).parsley();$(this).attr("data-parsley-remote-options",'{ "type": "POST" }');$(this).attr("data-parsley-errors-messages-disabled",1);field.actualizeOptions();field.addAsyncValidator("default",function(){updateDataAndErrors(this);return!this._ui.$errorsWrapper.hasClass("filled")},$(this).data("parsley-remote"))});$("#subscription_metadataUrl").parsley().subscribe("parsley:field:validate",function(field){field.$element.attr("data-parsley-remote-options",'{ "type": "POST", "ts": '+Date.now()+" }");field.actualizeOptions()});window.ParsleyValidator.addValidator("contactunique",function(){var fname1=$("#subscription_administrativeContact_firstName").val(),fname2=$("#subscription_technicalContact_firstName").val(),lname1=$("#subscription_administrativeContact_lastName").val(),lname2=$("#subscription_technicalContact_lastName").val(),email1=$("#subscription_administrativeContact_email").val(),email2=$("#subscription_technicalContact_email").val();if(!fname1||!fname2||!lname1||!lname2||!email1||!email2){return true}return!(fname1===fname2&&lname1===lname2&&email1===email2)},32).addMessage("en","contactunique","The technical contact should be different from the administrative contact.").addMessage("nl","contactunique","Het technisch contactpersoon moet verschillen van het administratief contactpersoon.");$form.autosave({callbacks:{trigger:["modify","change"],scope:"all",save:{method:"ajax",options:{url:$form.data("save"),type:"POST",beforeSend:function(){$("#status-done").addClass("hidden");$("#status-progress").removeClass("hidden")},complete:function(){$("#status-progress").addClass("hidden");$("#status-done").removeClass("hidden")}}}}});setInterval(function(){var lockReq=$.get($form.data("lock"));lockReq.done(function(){$inputs.not(".disabled").prop("disabled",false);$form.find("button").prop("disabled",false);$(".lock-warning").hide()});lockReq.fail(function(){$inputs.prop("disabled",true);$form.find("button").prop("disabled",true);$(".lock-warning").show()})},1e4);$form.find(".btn-next").on("click",function(){$(".nav-tabs .active").next().find("a").tab("show");return false});$form.find(".btn-prev").on("click",function(){$(".nav-tabs .active").prev().find("a").tab("show");return false});var $links=$form.find(".popover-link");$links.popover({container:"body",trigger:"focus",html:true});$links.on("click",function(){return false});$inputs.on("focusin",function(){$(this).closest(".row").find(".popover-link").popover("show")});$inputs.on("focusout",function(){$(this).closest(".row").find(".popover-link").popover("hide")});$("#attributes").find(":checkbox").on("change",function(){var checkbox=$(this),textarea=checkbox.closest(".form-group").find("textarea");if(checkbox.is(":checked")){textarea.prop("disabled",false);textarea.prop("required",true)}else{textarea.prop("disabled",true);textarea.prop("required",false)}})})})(window.jQuery);